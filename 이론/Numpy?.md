# Nympy? 



파이썬 기반 데이터 분석환경에서 NumPy는 **행렬 연산**을 위한 핵심 라이브 러리 입니다.

대규모 다차원 배열과 행렬 연산에 필요한 다양한 함수를 제공합니다.

메모리 버퍼에 배열 데이터를 저장하고 처리하는 효율적인 인터페이스를 제공합니다. (Array)



##### 특징

- 강력한 N 차원 배열 객체
- 정교한 브로드케스팅(Broadcast) 기능
-  C / C++ 및 포트란 코드 통합 도구
- 유용한 선형 대수학, 푸리에 변환 및 난수 기능
- 범용적 데이터 처리에 사용 가능한 다차원 컨테이너



##### import

> 일반적으로 import 할때 np라고 사용한다
>
> 다른거 쓰지말것, 찾기 어렵다

```python
import numpy as np
```



##### NumPy 배열

- 다차원 배열을 지원

- 배열의 구조는 "Shape"으로 표현됨 

  - Shape : 배열의 구조를 파이썬 튜플 자료형을 이용하여 정의함

  - 파이썬 튜플 

    > 몇 가지 점을 제외하곤 리스트와 거의 비슷하다
    >
    > - **리스트는 [ ]**으로 둘러싸지만 **튜플은 (** )으로 둘러싼다.
    > - 리스트는 그 값의 생성, 삭제, 수정이 가능하지만 **튜플은 그 값을 바꿀 수 없다**.
    > - 인덱싱 / 슬라이싱 / 더하기 / 곱하기 / 길이구하기 len(name) 가능



- 다차원 배열은 입체적인 데이터 구조를 가지며, 데이터의 차원은 여러 갈래의 데이터 방향을 갖는다.

  다차원 배열의 데이터 방향을 axis로 표현할 수 있다. NumPy 집계(Aggregation)함수는 배열 데이터의 집계 방향을 지정하는 axis옵션을 제공한다. 

  > - Numpy 에서 np.sum 함수의 axis 이해
  >
  >   http://taewan.kim/post/numpy_sum_axis/
  >
  > - 다양한 선형대수(Linear Algebra) 연산에 numpy의 sum 함수사용하기
  >
  >   - 통계 및 데이터 분석, 딥러닝을 하다 보면 스칼라, 벡터, 행렬, 텐서와 같은 다양한 데이터 유형을 다루게 됩니다. 데이터 분석은 여러 유형의 데이터 합을 구하고 빈도수와 확률을 계산하는 반복적인 작업입니다. 다양한 데이터를 대상으로 선형대수 연산에 넘파이의 sum 함수를 사용하면 매우 편리함



##### 선형 대수의 데이터의 유형

- 선형대수(linear algebra) : 데이터 분석의 각종 계산을 돕는학문

  > 선형대수를 사용하면 대량의 데이터를 포함하는 복잡한 계산 과정을 간단한 수식으로 표현할 수 있다.
  >
  > 선형대수의 데이터 유형은 데이터의 수와 형태에 따라 스칼라, 벡터, 행렬, 텐서로 구분된다
  >
  > - 스칼라 Scalar
  >
  >   스칼라는 하나의 숫자만으로 이루어진 데이터를 의미한다. 스칼라는 보통 X와 같이 알파벳 소문자로 표기하며 실수(real number)인 숫자 중의 하나이므로 실수 집합 "R"의 원소라는 의미.
  >
  > - 벡터 Vector
  >
  >   벡터는 여러 숫자가 순서대로 모여 있는 것으로, 일반적인 일차원 배열이 백터이다.
  >
  >   하나의 백터를 이루는 데이터의 개수를 차원이라고 한다(dimension) 
  >
  > - 행렬 Matrix
  >
  >   행렬은 복수의 차원을 가지는 데이터가 다시 여러 개 있는 경우의 데이터를 합쳐서 표기하는것,
  >
  >   일반적으로 2차원 배열이 행렬. 특히 3차원 이상 배열은 텐서(tensor)라고 함



##### Broadcasting

- 사전적 의미

  > [정보, 통신] 인터넷 통신 규약 네트워크에 있는 모든 로컬 네트워크 호스트로 데이터를 전송하는 방식. 호스트 주소가 전부 1인경우, 브로드캐스트 방식이 사용된다.

- 브로드 캐스팅 이란?

  > - 넘파이에서 브로드캐스팅이라는 용어는 **서로 다른 배열 형상**에서 **산술 연산을 어떻게 처리**할 것인가를 의미한다. 
  > - 두 배열의 모양을 확인후 측정 기준이 동일하지 않으면 **해당 측정 기준을 ' 브로드 캐스트'**하여 동일한 측정 기준의 배열을 생성한다.
  >   - 넘파이 연산은 요소 대 요소를 기반으로 수행되어진다. 가장 단순한 경우로써 두 배열이 정확히 같은 경우가 있다. 
  >   - 넘파이의 브로드 캐스팅 룰은 연산에 사용되는 배열은 항상 같은 형상이어야 한다는 제약을 완화한다. 
  >   - 가장 단순한 브로드캐스팅 예제는 하나의 스칼라와 배열간의 연산이다.
  >   - 브로드캐스팅을 적절히 잘 활용할 경우 메모리를 효율적으로 사용하여 더욱더 효율적인 코드를 작성할 수 있다. (그러나 가끔씩 브로드캐스팅이 메모리를 비효율적으로 사용하여 계산을 느리게 되는 경우도 존재한다)
  > - 두 개의 어레이에서 작동할때, 넘파이는 모양을 요소별로 비교한다. 후행 치수로 시작하여 앞으로 나아간다.
  >   - 같은 수 인경우
  >   - 그들중 하나가 1인경우
  >   - 차원수는 같을 필요가 없으며, 한쪽의 차원이 없는 경우 있는 차원의 값을 복사한다.



##### array_like

- 일반적으로 파이썬에서 ㅐ열과 유사한 구조로 배열 된 숫자 데이터는 array()함수를 사용하여 배열로 변환 할 수 있다. 

  > - 가장 명백한 예는 리스트와 튜플이 있다. 
  > - 일부 객체는 배열 프로토콜을 지원하고 이런방식으로 배열로 변환이 가능하다. 

##### Reshape

- 기존 데이터는 유지하고 차원과 형상을 바꾸는데 사용한다. 

  > - 파라미터로 입력한 차원에 맞게 변경된다. 
  >
  > - -1 로 설정하면 나머지를 자동으로 맞춘다.
  >
  >   > 예)  (100, ) -> (2, 50) : 변환가능
  >   >
  >   > 예)  (100, ) -> (2, -1) : 1차원은 2로 지정하고 2차원은 자동이므로 50이 된다. 
  >   > (첫번째 숫자인 열에 맞춰 행을 만들어 줌)
  >
  > 



##### Shape

- Shape 이 같은 두 배열을 이항 연산하는 경우 위치가 같은 요소 단위로 수행됨
- Shape 이 다른 두 배열 사이의 이항 연산에서 브로드케스팅이 발생된다
- 두 배열을 같은 Shape으로 만든 후 연산을 수행한다



##### Slicing (슬라이싱)

- 여러개의 배열 요소를 참조할 때 슬라이싱을 사용함





##### Boolean indexing (블린 인덱싱)

- 로직에 의한 인덱싱을 하기 위해

  > 팬시 인덱싱은 수동으로 찾는 방식

- NumPy는 불린 인덱싱은 배열 각 요소의 선택 여부를 True, False 지정하는 방식입니다. 해당 인덱스의 True만을 조회합니다.



##### Aggregate Functions (집계 함수)

- NumPy 의 모든 집계 함수는 AXIS를 기준으로 계산됩니다. 집계함수에 AXIS를 지정하지 않으면 axis = None. 

  > - Case1 :  axis=None
  >
  >   - 전체 행렬을 하나의 배열로 간주하고 집계 함수의 범위를 전체 행렬로 정의 함
  >
  >   - ![img](https://taewanmerepo.github.io/2018/01/numpy/axis_none.jpg)
  >
  >     
  >
  > - Case2 :  axis= 0
  >
  >   - axis=0 은 행을 기준으로 각 행의 동일 인덱스의 요소를 그룹으로 함
  >
  >   - 각 그룹을 집계 함수의 범의로 정의함
  >
  >   - ![img](https://taewanmerepo.github.io/2018/01/numpy/axis_0.jpg)
  >
  >     
  >
  > - Case3 :  axis= 1
  >
  >   - axis= 1 은 열을 기준으로 각 열의 요소를 그룹으로 함
  >
  >   - 각 그룹을 집계 함수의 범위로 정의함
  >
  >   - ![img](https://taewanmerepo.github.io/2018/01/numpy/axis_1.jpg)
  >
  >     
  >
  > - Case1 :  axis = 2
  >
  >   - axis=2 는 z축을 기준으로 합을 구하는 방식
  >   - z축 depth  요소를 합치는 연산 



- axis=None은 기본값으로 모든











---



참고 URL : http://taewan.kim/post/numpy_cheat_sheet/